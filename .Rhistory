CO2_data <- read.csv("WDI_emissions_Data.csv", stringsAsFactors = FALSE)
setwd('..')
kt_of_co2_emissions <- filter(CO2_data, Series.Code == "EN.ATM.CO2E.KT")
specified_countries_kilotons <- filter(kt_of_co2_emissions,
ï..Country.Code == "LIE" |
ï..Country.Code == "QAT" |
ï..Country.Code == "MAC" |
ï..Country.Code == "LUX" |
ï..Country.Code == "SUR" |
ï..Country.Code == "LCA" |
ï..Country.Code == "ZAF" |
ï..Country.Code == "PER" |
ï..Country.Code == "LBR" |
ï..Country.Code == "COD" |
ï..Country.Code == "BDI" |
ï..Country.Code == "CAF")
# Filters the graph to only get the last 12 years worth of data
kilotons_dataset <- select(specified_countries_kilotons, ï..Country.Code,
YR2003 ,YR2004, YR2005, YR2006, YR2007, YR2008,
YR2009, YR2010, YR2011, YR2012, YR2013, YR2014)
CO2_data <- read.csv("WDI_emissions_Data.csv", stringsAsFactors = FALSE)
kt_of_co2_emissions <- filter(CO2_data, Series.Code == "EN.ATM.CO2E.KT")
setwd("./data")
CO2_data <- read.csv("WDI_emissions_Data.csv", stringsAsFactors = FALSE)
setwd('..')
kt_of_co2_emissions <- filter(CO2_data, Series.Code == "EN.ATM.CO2E.KT")
specified_countries_kilotons <- filter(kt_of_co2_emissions,
ï..Country.Code == "LIE" |
ï..Country.Code == "QAT" |
ï..Country.Code == "MAC" |
ï..Country.Code == "LUX" |
ï..Country.Code == "SUR" |
ï..Country.Code == "LCA" |
ï..Country.Code == "ZAF" |
ï..Country.Code == "PER" |
ï..Country.Code == "LBR" |
ï..Country.Code == "COD" |
ï..Country.Code == "BDI" |
ï..Country.Code == "CAF")
# Filters the graph to only get the last 12 years worth of data
kilotons_dataset <- select(specified_countries_kilotons, ï..Country.Code,
YR2003 ,YR2004, YR2005, YR2006, YR2007, YR2008,
YR2009, YR2010, YR2011, YR2012, YR2013, YR2014)
knitr::opts_chunk$set(echo = TRUE)
source("a7_script.R")
print_programming_experiance_table()
print_software_tools_experiance_table()
knitr::opts_chunk$set(echo = TRUE)
source("assignment7.r")
print_programming_experiance_table()
# install.packages("ggplot2")
# install.packages("maps")
# install.packages("plotly")
library("dplyr")
library("ggplot2")
library("knitr")
library("tidyr")
library("maps")
library("plotly")
setwd("~/GitHub/a6-data-visualization-UdayBajaj")
setwd("./data")
CO2_data <- read.csv("WDI_emissions_Data.csv", stringsAsFactors = FALSE)
GDP_Ranking <- read.csv("Countries_GDP_Rank.csv", stringsAsFactors = FALSE)
setwd('..')
kt_of_co2_emissions <- filter(CO2_data, Series.Code == "EN.ATM.CO2E.KT")
# takes all the data and combines it into one table
world_map <- map_data("world")
world_map_iso_codes <- mutate(world_map, ï..Country.Code =
iso.alpha(world_map$region, n = 3))
world_emissions <- right_join(kt_of_co2_emissions, world_map_iso_codes,
by = "ï..Country.Code")
world_emissions <- right_join(world_emissions, GDP_Ranking, by = "ï..Country.Code")
# creates the bins based on KT of CO2 and places every country into a bin
breaks <- c(0, 8000, 18000, 40000, 90000, 150000, 250000, 99999999999)
labels <- c("<8,000 kt", "8,000 - 18,000 kt", "18,000 - 40,000 kt",
"40,000 - 90,000 kt", "90,000 - 150,000 kt",
"150,000 - 250,000 kt", "200,000 kt <" )
bins <- cut(world_emissions$YR2014, breaks, include.lowest = TRUE, right = FALSE, labels = labels)
world_emissions <- mutate(world_emissions, bin = bins)
world_emissions_filtered <- select(world_emissions, GDP_Ranking == 1:10)
desired_GDP_Rankings <- c(1,2,3,4,5,6)
world_emissions_filtered <- select(world_emissions, GDP_Ranking == desired_GDP_Rankings)
desired_GDP_Rankings <- c("1","2","3","4","5")
world_emissions_filtered <- select(world_emissions, GDP_Ranking == desired_GDP_Rankings)
world_emissions_filtered <- filter(world_emissions, GDP_Ranking == desired_GDP_Rankings)
world_emissions_filtered <- filter(world_emissions, GDP_Ranking == 1:10)
View(world_emissions)
world_emissions_filtered <- filter(world_emissions, GDP_Ranking >10)
world_emissions_filtered <- filter(world_emissions, GDP.per.capita.rank == 1:10)
world_emissions_filtered <- filter(world_emissions, GDP.per.Capita.Rank == 1:10)
world_emissions_filtered <- filter(world_emissions, GDP.per.Capita.Rank >10)
View(world_emissions_filtered)
View(kt_of_co2_emissions)
world_emissions <- right_join(kt_of_co2_emissions, GDP_Ranking, by = "ï..Country.Code")
View(kt_of_co2_emissions)
world_emissions <- right_join(kt_of_co2_emissions, GDP_Ranking, by = "ï..Country.Code")
View(world_emissions)
setwd("./data")
CO2_data <- read.csv("WDI_emissions_Data.csv", stringsAsFactors = FALSE)
GDP_Ranking <- read.csv("Countries_GDP_Rank.csv", stringsAsFactors = FALSE)
setwd('..')
kt_of_co2_emissions <- filter(CO2_data, Series.Code == "EN.ATM.CO2E.KT")
world_emissions <- right_join(kt_of_co2_emissions, GDP_Ranking, by = "ï..Country.Code")
# creates the bins based on KT of CO2 and places every country into a bin
breaks <- c(0, 8000, 18000, 40000, 90000, 150000, 250000, 99999999999)
labels <- c("<8,000 kt", "8,000 - 18,000 kt", "18,000 - 40,000 kt",
"40,000 - 90,000 kt", "90,000 - 150,000 kt",
"150,000 - 250,000 kt", "200,000 kt <" )
bins <- cut(world_emissions$YR2014, breaks, include.lowest = TRUE, right = FALSE, labels = labels)
world_emissions <- mutate(world_emissions, bin = bins)
desired_GDP_Rankings<- c(1:10, 95:104 ,190:199)
world_emissions_filtered <- filter(world_emissions, GDP.per.Capita.Rank == desired_GDP_Rankings)
desired_GDP_Rankings
world_emissions_filtered <- filter(world_emissions, GDP.per.Capita.Rank == 1:10)
desired_GDP_Rankings<- c(1:5, 98:102 ,195:199)
plot_ly (
type = 'scatter',
x = world_emissions$GDP.per.Capita.Rank,
y = world_emissions$YR2014,
text = paste(
"Country: ", world_emissions$region,
"<br>GDP/capita Rank: ", world_emissions$GDP.per.Capita.Rank,
"<br>Kilotons of CO2 produced: ", world_emissions$YR2014),
hoverinfo = text,
mode = 'markers',
transforms = list(
list(
type = 'groupby',
groups = world_emissions$bin,
styles = list(
list(target = "<8,000 kt", value = list(marker =list(color = 'blue'))),
list(target = "8,000 - 18,000 kt", value = list(marker =list(color = 'red'))),
list(target = "18,000 - 40,000 kt", value = list(marker =list(color = 'black'))),
list(target = "40,000 - 90,000 kt", value = list(marker =list(color = 'green'))),
list(target = "90,000 - 150,000 kt", value = list(marker =list(color = 'yellow'))),
list(target = "150,000 - 250,000 kt", value = list(marker =list(color = 'purple'))),
list(target = "200,000 kt <", value = list(marker =list(color = 'orange')))
)
)
)
)
View(world_emissions)
plot_ly (
type = 'scatter',
x = world_emissions$GDP.per.Capita.Rank,
y = world_emissions$YR2014,
text = paste(
"Country: ", world_emissions$ï..Country.Code,
"<br>GDP/capita Rank: ", world_emissions$GDP.per.Capita.Rank,
"<br>Kilotons of CO2 produced: ", world_emissions$YR2014),
hoverinfo = text,
mode = 'markers',
transforms = list(
list(
type = 'groupby',
groups = world_emissions$bin,
styles = list(
list(target = "<8,000 kt", value = list(marker =list(color = 'blue'))),
list(target = "8,000 - 18,000 kt", value = list(marker =list(color = 'red'))),
list(target = "18,000 - 40,000 kt", value = list(marker =list(color = 'black'))),
list(target = "40,000 - 90,000 kt", value = list(marker =list(color = 'green'))),
list(target = "90,000 - 150,000 kt", value = list(marker =list(color = 'yellow'))),
list(target = "150,000 - 250,000 kt", value = list(marker =list(color = 'purple'))),
list(target = "200,000 kt <", value = list(marker =list(color = 'orange')))
)
)
)
)
print_interactive_graph <- function(){
setwd("./data")
CO2_data <- read.csv("WDI_emissions_Data.csv", stringsAsFactors = FALSE)
GDP_Ranking <- read.csv("Countries_GDP_Rank.csv", stringsAsFactors = FALSE)
setwd('..')
kt_of_co2_emissions <- filter(CO2_data, Series.Code == "EN.ATM.CO2E.KT")
world_emissions <- right_join(kt_of_co2_emissions, GDP_Ranking, by = "ï..Country.Code")
# creates the bins based on KT of CO2 and places every country into a bin
breaks <- c(0, 8000, 18000, 40000, 90000, 150000, 250000, 99999999999)
labels <- c("<8,000 kt", "8,000 - 18,000 kt", "18,000 - 40,000 kt",
"40,000 - 90,000 kt", "90,000 - 150,000 kt",
"150,000 - 250,000 kt", "200,000 kt <" )
bins <- cut(world_emissions$YR2014, breaks, include.lowest = TRUE, right = FALSE, labels = labels)
world_emissions <- mutate(world_emissions, bin = bins)
plot_ly (
type = 'scatter',
x = world_emissions$GDP.per.Capita.Rank,
y = world_emissions$YR2014,
text = paste(
"Country: ", world_emissions$ï..Country.Code,
"<br>GDP/capita Rank: ", world_emissions$GDP.per.Capita.Rank,
"<br>Kilotons of CO2 produced: ", world_emissions$YR2014),
hoverinfo = text,
mode = 'markers',
transforms = list(
list(
type = 'groupby',
groups = world_emissions$bin,
styles = list(
list(target = "<8,000 kt", value = list(marker =list(color = 'blue'))),
list(target = "8,000 - 18,000 kt", value = list(marker =list(color = 'red'))),
list(target = "18,000 - 40,000 kt", value = list(marker =list(color = 'black'))),
list(target = "40,000 - 90,000 kt", value = list(marker =list(color = 'green'))),
list(target = "90,000 - 150,000 kt", value = list(marker =list(color = 'yellow'))),
list(target = "150,000 - 250,000 kt", value = list(marker =list(color = 'purple'))),
list(target = "200,000 kt <", value = list(marker =list(color = 'orange')))
)
)
)
)
}
knitr::opts_chunk$set(echo = TRUE)
source(A6_script.r)
setwd("~/GitHub/a6-data-visualization-UdayBajaj")
knitr::opts_chunk$set(echo = TRUE)
source("A6_script.r")
knitr::opts_chunk$set(echo = TRUE)
source("A6_script.r")
country_order_table()
CO2_per_capita_graph
CO2_per_capita_graph
CO2_per_capita_graph(0,65)
faceted_KT_CO2_Graph(0,510000)
print_interactive_graph()
country_order_table()
CO2_per_capita_graph(0,65)
CO2_per_capita_graph(0,10)
CO2_per_capita_graph(0,2)
CO2_per_capita_graph(0,.5)
CO2_per_capita_graph(0,10)
faceted_KT_CO2_Graph(0,510000)
faceted_KT_CO2_Graph <- function(y_lower_bound, y_upper_bound){
setwd("./data")
CO2_data <- read.csv("WDI_emissions_Data.csv", stringsAsFactors = FALSE)
setwd('..')
kt_of_co2_emissions <- filter(CO2_data, Series.Code == "EN.ATM.CO2E.KT")
specified_countries_kilotons <- filter(kt_of_co2_emissions,
ï..Country.Code == "LIE" |
ï..Country.Code == "QAT" |
ï..Country.Code == "MAC" |
ï..Country.Code == "LUX" |
ï..Country.Code == "SUR" |
ï..Country.Code == "LCA" |
ï..Country.Code == "ZAF" |
ï..Country.Code == "PER" |
ï..Country.Code == "LBR" |
ï..Country.Code == "COD" |
ï..Country.Code == "BDI" |
ï..Country.Code == "CAF")
# Filters the graph to only get the last 12 years worth of data
kilotons_dataset <- select(specified_countries_kilotons, ï..Country.Code,
YR2003 ,YR2004, YR2005, YR2006, YR2007, YR2008,
YR2009, YR2010, YR2011, YR2012, YR2013, YR2014)
#converts data to long format
long_data <- gather(kilotons_dataset, Year, Kt_of_CO2, YR2003:YR2014,
factor_key = TRUE)
# creates vector for graph lables
years <- c("03", "04", "05", "06", "07", "08", "09", "10",
"11", "12", "13", "14")
# Plots the data points and creates the graph
ggplot(data = long_data) +
geom_point(mapping = aes (x = Year, y = Kt_of_CO2, color = ï..Country.Code)) +
facet_wrap(~ï..Country.Code) +
ggtitle(" Overall Kilotons of CO2 Produced in Countries with the Highest,
Median, and lowest GDP") +
ylab("KiloTons of CO2 Produced") +
xlab("Years (20xx)") +
scale_x_discrete(labels = years) +
theme(axis.text.x = element_text(face = "bold", angle = 30)) +
scale_fill_discrete(name = "Country Codes") +
ylim(y_lower_bound, y_upper_bound)
}
faceted_KT_CO2_Graph(0,510000)
# A function that takes 2 ints as parameters and returns a graph depicting the
# total Kilotons of CO2 generated in 12 countries from 2003 to 2014
# The 2 ints will determine what the range of the y axis will be
# The default values should be 0, 510000
# the standard parameters should this function should be (0, 510000)
faceted_KT_CO2_Graph <- function(y_lower_bound, y_upper_bound){
setwd("./data")
CO2_data <- read.csv("WDI_emissions_Data.csv", stringsAsFactors = FALSE)
setwd('..')
kt_of_co2_emissions <- filter(CO2_data, Series.Code == "EN.ATM.CO2E.KT")
specified_countries_kilotons <- filter(kt_of_co2_emissions,
ï..Country.Code == "LIE" |
ï..Country.Code == "QAT" |
ï..Country.Code == "MAC" |
ï..Country.Code == "LUX" |
ï..Country.Code == "SUR" |
ï..Country.Code == "LCA" |
ï..Country.Code == "ZAF" |
ï..Country.Code == "PER" |
ï..Country.Code == "LBR" |
ï..Country.Code == "COD" |
ï..Country.Code == "BDI" |
ï..Country.Code == "CAF")
# Filters the graph to only get the last 12 years worth of data
kilotons_dataset <- select(specified_countries_kilotons, ï..Country.Code,
YR2003 ,YR2004, YR2005, YR2006, YR2007, YR2008,
YR2009, YR2010, YR2011, YR2012, YR2013, YR2014)
#converts data to long format
long_data <- gather(kilotons_dataset, Year, Kt_of_CO2, YR2003:YR2014,
factor_key = TRUE)
# creates vector for graph lables
years <- c("03", "04", "05", "06", "07", "08", "09", "10",
"11", "12", "13", "14")
# Plots the data points and creates the graph
ggplot(data = long_data) +
geom_point(mapping = aes (x = Year, y = Kt_of_CO2, color = ï..Country.Code)) +
facet_wrap(~ï..Country.Code) +
ggtitle(" Overall Kilotons of CO2 Produced in Countries with the Highest,
Median, and lowest GDP") +
ylab("KiloTons of CO2 Produced") +
xlab("Years (20xx)") +
scale_x_discrete(labels = years) +
theme(axis.text.x = element_text(angle = 90)) +
scale_fill_discrete(name = "Country Codes") +
ylim(y_lower_bound, y_upper_bound)
}
faceted_KT_CO2_Graph(0,510000)
faceted_KT_CO2_Graph <- function(y_lower_bound, y_upper_bound){
setwd("./data")
CO2_data <- read.csv("WDI_emissions_Data.csv", stringsAsFactors = FALSE)
setwd('..')
kt_of_co2_emissions <- filter(CO2_data, Series.Code == "EN.ATM.CO2E.KT")
specified_countries_kilotons <- filter(kt_of_co2_emissions,
ï..Country.Code == "LIE" |
ï..Country.Code == "QAT" |
ï..Country.Code == "MAC" |
ï..Country.Code == "LUX" |
ï..Country.Code == "SUR" |
ï..Country.Code == "LCA" |
ï..Country.Code == "ZAF" |
ï..Country.Code == "PER" |
ï..Country.Code == "LBR" |
ï..Country.Code == "COD" |
ï..Country.Code == "BDI" |
ï..Country.Code == "CAF")
# Filters the graph to only get the last 12 years worth of data
kilotons_dataset <- select(specified_countries_kilotons, ï..Country.Code,
YR2003 ,YR2004, YR2005, YR2006, YR2007, YR2008,
YR2009, YR2010, YR2011, YR2012, YR2013, YR2014)
#converts data to long format
long_data <- gather(kilotons_dataset, Year, Kt_of_CO2, YR2003:YR2014,
factor_key = TRUE)
# creates vector for graph lables
years <- c("03", "04", "05", "06", "07", "08", "09", "10",
"11", "12", "13", "14")
# Plots the data points and creates the graph
ggplot(data = long_data) +
geom_point(mapping = aes (x = Year, y = Kt_of_CO2, color = ï..Country.Code)) +
facet_wrap(~ï..Country.Code) +
ggtitle(" Overall Kilotons of CO2 Produced in Countries with the Highest,
Median, and lowest GDP") +
ylab("KiloTons of CO2 Produced") +
xlab("Years (20xx)") +
scale_x_discrete(labels = years) +
theme(axis.text.x = element_text(angle = 45)) +
scale_fill_discrete(name = "Country Codes") +
ylim(y_lower_bound, y_upper_bound)
}
faceted_KT_CO2_Graph(0,510000)
faceted_KT_CO2_Graph(0,100000)
faceted_KT_CO2_Graph(0,10000)
faceted_KT_CO2_Graph(0,5000)
faceted_KT_CO2_Graph(0,10000)
faceted_KT_CO2_Graph(0,20000)
faceted_KT_CO2_Graph(0,5000)
faceted_KT_CO2_Graph(0,3000)
country_order_table()
print_global_ktCO2_map()
print_interactive_graph()
world_emissions <- mutate(world_emissions, bin = bins)
setwd("./data")
CO2_data <- read.csv("WDI_emissions_Data.csv", stringsAsFactors = FALSE)
GDP_Ranking <- read.csv("Countries_GDP_Rank.csv", stringsAsFactors = FALSE)
setwd('..')
kt_of_co2_emissions <- filter(CO2_data, Series.Code == "EN.ATM.CO2E.KT")
world_emissions <- right_join(kt_of_co2_emissions, GDP_Ranking, by = "ï..Country.Code")
# creates the bins based on KT of CO2 and places every country into a bin
breaks <- c(0, 8000, 18000, 40000, 90000, 150000, 250000, 99999999999)
labels <- c("<8,000 kt", "8,000 - 18,000 kt", "18,000 - 40,000 kt",
"40,000 - 90,000 kt", "90,000 - 150,000 kt",
"150,000 - 250,000 kt", "200,000 kt <" )
bins <- cut(world_emissions$YR2014, breaks, include.lowest = TRUE, right = FALSE, labels = labels)
world_emissions <- mutate(world_emissions, bin = bins)
print_interactive_graph <- function(){
setwd("./data")
CO2_data <- read.csv("WDI_emissions_Data.csv", stringsAsFactors = FALSE)
GDP_Ranking <- read.csv("Countries_GDP_Rank.csv", stringsAsFactors = FALSE)
setwd('..')
kt_of_co2_emissions <- filter(CO2_data, Series.Code == "EN.ATM.CO2E.KT")
world_emissions <- right_join(kt_of_co2_emissions, GDP_Ranking, by = "ï..Country.Code")
# creates the bins based on KT of CO2 and places every country into a bin
breaks <- c(0, 8000, 18000, 40000, 90000, 150000, 250000, 99999999999)
labels <- c("<8,000 kt", "8,000 - 18,000 kt", "18,000 - 40,000 kt",
"40,000 - 90,000 kt", "90,000 - 150,000 kt",
"150,000 - 250,000 kt", "200,000 kt <" )
bins <- cut(world_emissions$YR2014, breaks, include.lowest = TRUE, right = FALSE, labels = labels)
world_emissions <- mutate(world_emissions, bin = bins)
plot_ly (
type = 'scatter',
x = world_emissions$GDP.per.Capita.Rank,
y = world_emissions$YR2014,
text = paste(
"Country: ", world_emissions$ï..Country.Code,
"<br>GDP/capita Rank: ", world_emissions$GDP.per.Capita.Rank,
"<br>Kilotons of CO2 produced: ", world_emissions$YR2014),
"<br>Group: ", world_emissions$bin,
hoverinfo = text,
mode = 'markers',
transforms = list(
list(
type = 'groupby',
groups = world_emissions$bin,
styles = list(
list(target = "<8,000 kt", value = list(marker =list(color = 'blue'))),
list(target = "8,000 - 18,000 kt", value = list(marker =list(color = 'red'))),
list(target = "18,000 - 40,000 kt", value = list(marker =list(color = 'black'))),
list(target = "40,000 - 90,000 kt", value = list(marker =list(color = 'green'))),
list(target = "90,000 - 150,000 kt", value = list(marker =list(color = 'yellow'))),
list(target = "150,000 - 250,000 kt", value = list(marker =list(color = 'purple'))),
list(target = "200,000 kt <", value = list(marker =list(color = 'orange')))
)
)
)
)
}
print_interactive_graph()
setwd("./data")
CO2_data <- read.csv("WDI_emissions_Data.csv", stringsAsFactors = FALSE)
GDP_Ranking <- read.csv("Countries_GDP_Rank.csv", stringsAsFactors = FALSE)
setwd('..')
kt_of_co2_emissions <- filter(CO2_data, Series.Code == "EN.ATM.CO2E.KT")
world_emissions <- right_join(kt_of_co2_emissions, GDP_Ranking, by = "ï..Country.Code")
# creates the bins based on KT of CO2 and places every country into a bin
breaks <- c(0, 8000, 18000, 40000, 90000, 150000, 250000, 99999999999)
labels <- c("<8,000 kt", "8,000 - 18,000 kt", "18,000 - 40,000 kt",
"40,000 - 90,000 kt", "90,000 - 150,000 kt",
"150,000 - 250,000 kt", "200,000 kt <" )
bins <- cut(world_emissions$YR2014, breaks, include.lowest = TRUE, right = FALSE, labels = labels)
world_emissions <- mutate(world_emissions, bin = bins)
plot_ly (
type = 'scatter',
x = world_emissions$GDP.per.Capita.Rank,
y = world_emissions$YR2014,
text = paste(
"Country: ", world_emissions$ï..Country.Code,
"<br>GDP/capita Rank: ", world_emissions$GDP.per.Capita.Rank,
"<br>Kilotons of CO2 produced: ", world_emissions$YR2014),
"<br>Group: ", world_emissions$bin,
hoverinfo = text,
mode = 'markers',
transforms = list(
list(
type = 'groupby',
groups = world_emissions$bin,
styles = list(
list(target = "<8,000 kt", value = list(marker =list(color = 'blue'))),
list(target = "8,000 - 18,000 kt", value = list(marker =list(color = 'red'))),
list(target = "18,000 - 40,000 kt", value = list(marker =list(color = 'black'))),
list(target = "40,000 - 90,000 kt", value = list(marker =list(color = 'green'))),
list(target = "90,000 - 150,000 kt", value = list(marker =list(color = 'yellow'))),
list(target = "150,000 - 250,000 kt", value = list(marker =list(color = 'purple'))),
list(target = "200,000 kt <", value = list(marker =list(color = 'orange')))
)
)
)
)
print_interactive_graph <- function(){
setwd("./data")
CO2_data <- read.csv("WDI_emissions_Data.csv", stringsAsFactors = FALSE)
GDP_Ranking <- read.csv("Countries_GDP_Rank.csv", stringsAsFactors = FALSE)
setwd('..')
kt_of_co2_emissions <- filter(CO2_data, Series.Code == "EN.ATM.CO2E.KT")
world_emissions <- right_join(kt_of_co2_emissions, GDP_Ranking, by = "ï..Country.Code")
# creates the bins based on KT of CO2 and places every country into a bin
breaks <- c(0, 8000, 18000, 40000, 90000, 150000, 250000, 99999999999)
labels <- c("<8,000 kt", "8,000 - 18,000 kt", "18,000 - 40,000 kt",
"40,000 - 90,000 kt", "90,000 - 150,000 kt",
"150,000 - 250,000 kt", "200,000 kt <" )
bins <- cut(world_emissions$YR2014, breaks, include.lowest = TRUE, right = FALSE, labels = labels)
world_emissions <- mutate(world_emissions, bin = bins)
plot_ly (
type = 'scatter',
x = world_emissions$GDP.per.Capita.Rank,
y = world_emissions$YR2014,
text = paste(
"Country: ", world_emissions$ï..Country.Code,
"<br>GDP/capita Rank: ", world_emissions$GDP.per.Capita.Rank,
"<br>Kilotons of CO2 produced: ", world_emissions$YR2014,
"<br>Group: ", world_emissions$bin),
hoverinfo = text,
mode = 'markers',
transforms = list(
list(
type = 'groupby',
groups = world_emissions$bin,
styles = list(
list(target = "<8,000 kt", value = list(marker =list(color = 'blue'))),
list(target = "8,000 - 18,000 kt", value = list(marker =list(color = 'red'))),
list(target = "18,000 - 40,000 kt", value = list(marker =list(color = 'black'))),
list(target = "40,000 - 90,000 kt", value = list(marker =list(color = 'green'))),
list(target = "90,000 - 150,000 kt", value = list(marker =list(color = 'yellow'))),
list(target = "150,000 - 250,000 kt", value = list(marker =list(color = 'purple'))),
list(target = "200,000 kt <", value = list(marker =list(color = 'orange')))
)
)
)
)
}
print_interactive_graph()
print_interactive_graph()
shiny::runApp('~/GitHub/Info-Final-Project-Spotify')
